{"version":3,"sources":["webpack:///./src/components/icons/IconArrowLeft.vue","webpack:///./src/views/BookNew.vue","webpack:///./src/views/BookNew.vue?fa9f"],"names":["__exports__","router","useRouter","axios","inject","Swal","postSuccess","title","text","path","fire","position","icon","showConfirmButton","timer","then","push","book","ref","newBook","author","description","value","data","url","post","catch","err","console","log"],"mappings":"6gBAGA,MAAMA,EAAc,EAEL,U,24BC+Df,MAAMC,EAASC,iBACTC,EAAQC,eAAO,SACfC,EAAOD,eAAO,SAGdE,EAAc,CAACC,EAAOC,EAAMC,KAChCJ,EAAKK,KAAK,CACRC,SAAU,SACVC,KAAM,UACNL,QACAC,OACAK,mBAAmB,EACnBC,MAAO,OACNC,KAAK,KACNd,EAAOe,KAAKP,MAKVQ,EAAOC,eAAI,IACXC,EAAU,KACd,MAAM,MAAEZ,EAAF,OAASa,EAAT,YAAiBC,GAAgBJ,EAAKK,MACtCC,EAAO,CACXhB,QACAa,SACAC,eAEIG,EAAO,+CACbrB,EACGsB,KAAKD,EAAKD,GACVR,KAAK,KACJT,EAAY,KAAM,SAAU,YAE7BoB,MAAOC,IACNC,QAAQC,IAAIF,M,6mDCnGlB,MAAM3B,EAAc,EAEL","file":"js/chunk-79bdbdd6.5010ec83.js","sourcesContent":["import script from \"./IconArrowLeft.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./IconArrowLeft.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"flex justify-between items-center bg-white text-center py-5 px-3 mb-5\">\n    <IconArrowLeft class=\"cursor-pointer\" @click=\"router.push('/books')\" />\n    <h1 class=\"text-lg md:text-3xl font-bold\">新增書本</h1>\n    <span></span>\n  </div>\n  <Form ref=\"form\" class=\"\" v-slot=\"{ errors }\" @submit=\"newBook\">\n    <div class=\"mb-3\">\n      <label for=\"title\" class=\"inline-block mb-1\"\n        >書名\n        <span class=\"text-red-600 mr-2\">*</span>\n      </label>\n      <Field\n        id=\"title\"\n        name=\"書名\"\n        type=\"text\"\n        class=\"w-full p-2\"\n        :class=\"{ 'is-invalid': errors['書名'] }\"\n        placeholder=\"請輸入書名\"\n        v-model=\"book.title\"\n        rules=\"required\"\n      />\n      <ErrorMessage name=\"書名\" class=\"mt-1 block text-red-600\" />\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"author\" class=\"inline-block mb-1\"\n        >作者 <span class=\"text-red-600 mr-2\">*</span>\n      </label>\n      <Field\n        id=\"author\"\n        name=\"作者\"\n        type=\"text\"\n        class=\"w-full p-2\"\n        :class=\"{ 'is-invalid': errors['作者'] }\"\n        placeholder=\"請輸入作者\"\n        v-model=\"book.author\"\n        rules=\"required\"\n      />\n      <ErrorMessage name=\"作者\" class=\"mt-1 block text-red-600\" />\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"description\" class=\"inline-block mb-1\">備註 </label>\n      <textarea name=\"備註\" id=\"description\" rows=\"8\" class=\"w-full p-2\" v-model=\"book.description\">\n      </textarea>\n    </div>\n    <div class=\"flex gap-5\">\n      <button\n        class=\"bg-transparent w-1/2 hover:bg-blue-500 text-blue-700 font-semibold\n        hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded-full\"\n        @click.prevent=\"router.push('/books')\"\n      >\n        返回\n      </button>\n      <button\n        type=\"submit\"\n        class=\"w-1/2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-10 rounded-full\"\n      >\n        新增\n      </button>\n    </div>\n  </Form>\n</template>\n\n<script setup>\nimport { inject, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport IconArrowLeft from '@/components/icons/IconArrowLeft.vue';\n\nconst router = useRouter();\nconst axios = inject('axios');\nconst Swal = inject('$swal');\n\n// 送出成功\nconst postSuccess = (title, text, path) => {\n  Swal.fire({\n    position: 'center',\n    icon: 'success',\n    title,\n    text,\n    showConfirmButton: false,\n    timer: 1500,\n  }).then(() => {\n    router.push(path);\n  });\n};\n\n// 新增書籍\nconst book = ref({});\nconst newBook = () => {\n  const { title, author, description } = book.value;\n  const data = {\n    title,\n    author,\n    description,\n  };\n  const url = `${process.env.VUE_APP_API}/books/`;\n  axios\n    .post(url, data)\n    .then(() => {\n      postSuccess('成功', '新增書籍成功', '/books');\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n</script>\n","import script from \"./BookNew.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BookNew.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"sourceRoot":""}